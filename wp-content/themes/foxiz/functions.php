<?php
/** FOXIZ functions */
update_option( 'foxiz_license_id', [
	'is_activated' => 1,
	'purchase_code' => '********-****-****-****-************'
] );
update_option( 'foxiz_import_id', unserialize( 'a:2:{s:13:"purchase_code";s:36:"********-****-****-****-************";s:7:"listing";a:11:{i:101;a:10:{s:9:"directory";i:101;s:4:"name";s:7:"Default";s:8:"homepage";s:12:"Home Default";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/101.jpg";s:7:"content";s:33:"rb-importer/foxiz/101/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/101/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/101/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/101/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/101/categories.json";s:7:"plugins";a:4:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}i:3;a:4:{s:4:"name";s:33:"oAuth Twitter Feed for Developers";s:4:"slug";s:33:"oauth-twitter-feed-for-developers";s:4:"file";s:27:"twitter-feed-for-developers";s:4:"info";s:8:"Optional";}}}i:102;a:10:{s:9:"directory";i:102;s:4:"name";s:7:"Fashion";s:8:"homepage";s:12:"Home Fashion";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/102.jpg";s:7:"content";s:33:"rb-importer/foxiz/102/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/102/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/102/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/102/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/102/categories.json";s:7:"plugins";a:3:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:103;a:10:{s:9:"directory";i:103;s:4:"name";s:10:"Technology";s:8:"homepage";s:15:"Home Technology";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/103.jpg";s:7:"content";s:33:"rb-importer/foxiz/103/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/103/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/103/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/103/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/103/categories.json";s:7:"plugins";a:3:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:104;a:10:{s:9:"directory";i:104;s:4:"name";s:6:"Beauty";s:8:"homepage";s:11:"Home Beauty";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/104.jpg";s:7:"content";s:33:"rb-importer/foxiz/104/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/104/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/104/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/104/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/104/categories.json";s:7:"plugins";a:3:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:105;a:10:{s:9:"directory";i:105;s:4:"name";s:8:"Business";s:8:"homepage";s:13:"Home Business";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/105.jpg";s:7:"content";s:33:"rb-importer/foxiz/105/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/105/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/105/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/105/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/105/categories.json";s:7:"plugins";a:3:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:106;a:10:{s:9:"directory";i:106;s:4:"name";s:4:"Food";s:8:"homepage";s:9:"Home Food";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/106.jpg";s:7:"content";s:33:"rb-importer/foxiz/106/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/106/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/106/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/106/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/106/categories.json";s:7:"plugins";a:3:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:11:"Recommended";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:107;a:10:{s:9:"directory";i:107;s:4:"name";s:12:"Subscription";s:8:"homepage";s:17:"Home Subscription";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/107.jpg";s:7:"content";s:33:"rb-importer/foxiz/107/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/107/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/107/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/107/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/107/categories.json";s:7:"plugins";a:4:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:4:{s:4:"name";s:17:"Simple Membership";s:4:"slug";s:17:"simple-membership";s:4:"file";s:20:"simple-wp-membership";s:4:"info";s:11:"Recommended";}i:2;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:3;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:108;a:10:{s:9:"directory";i:108;s:4:"name";s:12:"RTL Business";s:8:"homepage";s:8:"Home RTL";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/108.jpg";s:7:"content";s:33:"rb-importer/foxiz/108/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/108/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/108/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/108/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/108/categories.json";s:7:"plugins";a:3:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:2;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:109;a:10:{s:9:"directory";i:109;s:4:"name";s:13:"Standard News";s:8:"homepage";s:9:"Home News";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/109.jpg";s:7:"content";s:33:"rb-importer/foxiz/109/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/109/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/109/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/109/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/109/categories.json";s:7:"plugins";a:4:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:4:{s:4:"name";s:17:"Simple Membership";s:4:"slug";s:17:"simple-membership";s:4:"file";s:20:"simple-wp-membership";s:4:"info";s:11:"Recommended";}i:2;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:3;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:110;a:10:{s:9:"directory";i:110;s:4:"name";s:22:"Living & Interior Blog";s:8:"homepage";s:11:"Home Living";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/110.jpg";s:7:"content";s:33:"rb-importer/foxiz/110/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/110/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/110/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/110/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/110/categories.json";s:7:"plugins";a:4:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:3:{s:4:"name";s:11:"WooCommerce";s:4:"slug";s:11:"woocommerce";s:4:"info";s:11:"Recommended";}i:2;a:3:{s:4:"name";s:16:"Breadcrumb NavXT";s:4:"slug";s:16:"breadcrumb-navxt";s:4:"info";s:8:"Optional";}i:3;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}i:111;a:10:{s:9:"directory";i:111;s:4:"name";s:26:"PC Hardware, Phone Concept";s:8:"homepage";s:11:"Home PCNews";s:7:"preview";s:40:"//api.themeruby.com/images/foxiz/111.jpg";s:7:"content";s:33:"rb-importer/foxiz/111/content.xml";s:5:"pages";s:31:"rb-importer/foxiz/111/pages.xml";s:13:"theme_options";s:40:"rb-importer/foxiz/111/theme-options.json";s:7:"widgets";s:34:"rb-importer/foxiz/111/widgets.json";s:10:"categories";s:37:"rb-importer/foxiz/111/categories.json";s:7:"plugins";a:2:{i:0;a:3:{s:4:"name";s:25:"Elementor Website Builder";s:4:"slug";s:9:"elementor";s:4:"info";s:8:"Required";}i:1;a:4:{s:4:"name";s:14:"Contact Form 7";s:4:"slug";s:14:"contact-form-7";s:4:"file";s:17:"wp-contact-form-7";s:4:"info";s:8:"Optional";}}}}}') );

define( 'FOXIZ_THEME_VERSION', '1.4.6' );

if ( ! defined( 'FOXIZ_TOS_ID' ) ) {
	define( 'FOXIZ_TOS_ID', 'foxiz_theme_options' );
}

include_once get_theme_file_path( 'backend/load.php' );
include_once get_theme_file_path( 'includes/include-files.php' );
include_once get_theme_file_path( 'templates/include-files.php' );

add_action( 'after_setup_theme', 'foxiz_theme_setup', 10 );
add_action( 'wp_enqueue_scripts', 'foxiz_register_script_frontend', 990 );
add_action( 'widgets_init', 'foxiz_register_all_sidebars' );

if ( function_exists( 'load_theme_textdomain' ) ) {
	load_theme_textdomain( 'foxiz', get_theme_file_path( 'languages' ) );
}

/** setup */
if ( ! function_exists( 'foxiz_theme_setup' ) ) {
	function foxiz_theme_setup() {

		if ( ! isset( $GLOBALS['content_width'] ) ) {
			$GLOBALS['content_width'] = 1170;
		}

		add_theme_support( 'automatic-feed-links' );
		add_theme_support( 'title-tag' );
		add_theme_support( 'html5', array(
			'search-form',
			'comment-form',
			'comment-list',
			'gallery',
			'caption',
			'script',
			'style'
		) );
		add_theme_support( 'post-formats', array( 'gallery', 'video', 'audio' ) );
		add_theme_support( 'post-thumbnails' );
		add_theme_support( 'editor-style' );
		add_theme_support( 'responsive-embeds' );
		add_theme_support( 'woocommerce', array(
			'gallery_thumbnail_image_width' => 110,
			'thumbnail_image_width'         => 300,
			'single_image_width'            => 760,
		) );
		add_theme_support( 'wc-product-gallery-lightbox' );
		add_theme_support( 'wc-product-gallery-slider' );

		if ( empty( $settings['widget_block_editor'] ) ) {
			remove_theme_support( 'widgets-block-editor' );
		}
		register_nav_menus( array(
			'foxiz_main'         => esc_html__( 'Main Menu', 'foxiz' ),
			'foxiz_mobile'       => esc_html__( 'Mobile Menu', 'foxiz' ),
			'foxiz_mobile_quick' => esc_html__( 'Mobile Quick Access', 'foxiz' ),
		) );

		$crop_data = foxiz_calc_crop_sizes();
		foreach ( $crop_data as $crop_id => $size ) {
			add_image_size( $crop_id, $size[0], $size[1], $size[2] );
		}

		/** load */
		add_action( 'admin_init', 'Foxiz_Register_Metaboxes::get_instance' );
		if ( class_exists( 'Foxiz_Bookmark' ) ) {
			add_action( 'init', 'Foxiz_Bookmark::get_instance', 1 );
		}
		add_action( 'init', 'Foxiz_Ajax::get_instance', 2 );
	}
}

/* register scripts */
if ( ! function_exists( 'foxiz_register_script_frontend' ) ) {
	function foxiz_register_script_frontend() {

		$style_deps = array(
			'foxiz-font',
			'foxiz-main',
		);

		$script_deps = array(
			'jquery',
			'jquery-waypoints',
			'jquery-isotope',
			'rbswiper',
			'jquery-magnific-popup',
		);

		wp_register_style( 'foxiz-font', esc_url_raw( Foxiz_Font::get_instance()->get_font_url() ), array(), FOXIZ_THEME_VERSION, 'all' );
		if ( foxiz_get_option( 'font_awesome' ) ) {
			array_unshift( $style_deps, 'font-awesome' );
			wp_deregister_style( 'font-awesome' );
			wp_register_style( 'font-awesome', get_theme_file_uri( 'assets/css/font-awesome.css' ), array(), '6.1.1', 'all' );
		}
		if ( is_rtl() ) {
			wp_register_style( 'foxiz-main', get_theme_file_uri( 'assets/css/rtl.css' ), array(), FOXIZ_THEME_VERSION, 'all' );
		} else {
			wp_register_style( 'foxiz-main', get_theme_file_uri( 'assets/css/main.css' ), array(), FOXIZ_THEME_VERSION, 'all' );
		}

		if ( ! foxiz_is_amp() ) {
			wp_register_style( 'foxiz-print', get_theme_file_uri( 'assets/css/print.css' ), array(), FOXIZ_THEME_VERSION, 'all' );
			array_push( $style_deps, 'foxiz-print' );
		}

		if ( class_exists( 'WooCommerce' ) && ! foxiz_is_amp() ) {
			wp_deregister_style( 'yith-wcwl-font-awesome' );
			if ( is_rtl() ) {
				wp_register_style( 'foxiz-woocommerce', get_theme_file_uri( 'assets/css/woocommerce-rtl.css' ), array(), FOXIZ_THEME_VERSION, 'all' );
			} else {
				wp_register_style( 'foxiz-woocommerce', get_theme_file_uri( 'assets/css/woocommerce.css' ), array(), FOXIZ_THEME_VERSION, 'all' );
			}
			array_push( $style_deps, 'foxiz-woocommerce' );
		}
		wp_register_style( 'foxiz-style', get_stylesheet_uri(), $style_deps, FOXIZ_THEME_VERSION, 'all' );

		wp_enqueue_style( 'foxiz-style' );

		if ( ! foxiz_is_amp() ) {
			wp_register_script( 'html5', get_theme_file_uri( 'assets/js/html5shiv.min.js' ), array(), '3.7.3' );
			wp_script_add_data( 'html5', 'conditional', 'lt IE 9' );
			if ( is_singular() && comments_open() && get_option( 'thread_comments' ) ) {
				wp_enqueue_script( 'comment-reply' );
			}
			wp_register_script( 'jquery-waypoints', get_theme_file_uri( 'assets/js/jquery.waypoints.min.js' ), array( 'jquery' ), '3.1.1', true );
			wp_register_script( 'jquery-isotope', get_theme_file_uri( 'assets/js/jquery.isotope.min.js' ), array( 'jquery' ), '3.0.6', true );
			wp_register_script( 'rbswiper', get_theme_file_uri( 'assets/js/rbswiper.min.js' ), array(), '6.5.8', true );
			wp_register_script( 'jquery-magnific-popup', get_theme_file_uri( 'assets/js/jquery.mp.min.js' ), array( 'jquery' ), '1.1.0', true );

			if ( foxiz_get_option( 'site_tooltips' ) && ! foxiz_is_wc_pages() ) {
				$script_deps[] = 'rb-tipsy';
				wp_register_script( 'rb-tipsy', get_theme_file_uri( 'assets/js/jquery.tipsy.min.js' ), array( 'jquery' ), '1.0', true );
			}
			if ( foxiz_get_option( 'single_post_highlight_shares' ) ) {
				$script_deps[] = 'highlight-share';
				wp_register_script( 'highlight-share', get_theme_file_uri( 'assets/js/highlight-share.js' ), '1.1.0', true );
			}
			if ( foxiz_get_option( 'back_top' ) ) {
				$script_deps[] = 'jquery-uitotop';
				wp_register_script( 'jquery-uitotop', get_theme_file_uri( 'assets/js/jquery.ui.totop.min.js' ), array( 'jquery' ), 'v1.2', true );
			}

			wp_register_script( 'foxiz-global', get_theme_file_uri( 'assets/js/global.js' ), $script_deps, FOXIZ_THEME_VERSION, true );
			wp_localize_script( 'foxiz-global', 'foxizParams', foxiz_get_js_settings() );

			/** load */
			wp_enqueue_script( 'foxiz-global' );
		}
	}
}